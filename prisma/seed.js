const { PrismaClient } = require('@prisma/client');

const prisma = new PrismaClient();

async function main() {
  console.log('üå± D√©but du seeding...');

  // Cr√©ation des cat√©gories principales
  const categories = [
    {
      name: "Am√©nagement int√©rieur - Gymnases et locaux",
      slug: "amenagement-interieur-gymnases-locaux",
      description: "√âquipements et am√©nagements pour les gymnases et locaux sportifs int√©rieurs",
      order: 1,
      subCategories: [
        { name: "Marquage au sol Gymnases", slug: "marquage-sol-gymnases", order: 1 },
        { name: "Mobilier Vestiaires et Gymnases", slug: "mobilier-vestiaires-gymnases", order: 2 },
        { name: "Affichage", slug: "affichage", order: 3 },
        { name: "Mobilier de Bureau", slug: "mobilier-bureau", order: 4 },
        { name: "Electrom√©nager, Restauration", slug: "electromenager-restauration", order: 5 },
        { name: "Rev√™tements de sols Int√©rieurs", slug: "revetements-sols-interieurs", order: 6 },
        { name: "M√¢ts, Cordes √† grimper", slug: "mats-cordes-grimper", order: 7 },
        { name: "Espaliers", slug: "espaliers", order: 8 },
        { name: "Gradins, Tribunes", slug: "gradins-tribunes", order: 9 },
        { name: "Bancs de gymnase", slug: "bancs-gymnase", order: 10 },
        { name: "Tables de marque", slug: "tables-marque", order: 11 },
        { name: "S√©parations de salle", slug: "separations-salle", order: 12 },
        { name: "Tableaux d'affichage, Scores", slug: "tableaux-affichage-scores", order: 13 },
        { name: "Fixations et √©quipements en hauteur", slug: "fixations-equipements-hauteur", order: 14 },
        { name: "Fontaines √† eau", slug: "fontaines-eau", order: 15 }
      ]
    },
    {
      name: "Am√©nagement ext√©rieur - Stades, Aires de jeux",
      slug: "amenagement-exterieur-stades-aires-jeux",
      description: "√âquipements et am√©nagements pour les stades et aires de jeux ext√©rieurs",
      order: 2,
      subCategories: [
        { name: "Rev√™tements de sol ext√©rieur", slug: "revetements-sol-exterieur", order: 1 },
        { name: "Buts multisports", slug: "buts-multisports", order: 2 },
        { name: "Abris de touche", slug: "abris-touche", order: 3 },
        { name: "Pare-ballons", slug: "pare-ballons", order: 4 },
        { name: "Acc√®s infrastructures", slug: "acces-infrastructures", order: 5 },
        { name: "Brosses √† chaussures", slug: "brosses-chaussures", order: 6 },
        { name: "Tra√ßage et d√©limitation de terrain", slug: "tracage-delimitation-terrain", order: 7 },
        { name: "Aires de jeux exterieur", slug: "aires-jeux-exterieur", order: 8 },
        { name: "Parcours sportif", slug: "parcours-sportif", order: 9 },
        { name: "Stations de Fitness et Musculation ext√©rieures", slug: "stations-fitness-musculation-exterieures", order: 10 },
        { name: "Mobilier urbain", slug: "mobilier-urbain", order: 11 },
        { name: "Propret√© des espaces ext√©rieurs", slug: "proprete-espaces-exterieurs", order: 12 }
      ]
    },
    {
      name: "Equipement multisport",
      slug: "equipement-multisport",
      description: "√âquipements polyvalents pour tous types de sports",
      order: 3,
      subCategories: [
        { name: "Mat√©riel Entra√Ænement sportif", slug: "materiel-entrainement-sportif", order: 1 },
        { name: "Arbitrage, Coaching", slug: "arbitrage-coaching", order: 2 },
        { name: "R√©compenses sportives", slug: "recompenses-sportives", order: 3 },
        { name: "Transport et Rangement", slug: "transport-rangement", order: 4 },
        { name: "Gonflage et entretien des ballons", slug: "gonflage-entretien-ballons", order: 5 },
        { name: "Pharmacie du sportif", slug: "pharmacie-sportif", order: 6 },
        { name: "Organisation √©v√©nement sportif", slug: "organisation-evenement-sportif", order: 7 },
        { name: "EPI, Hygi√®ne & Am√©nagement", slug: "epi-hygiene-amenagement", order: 8 },
        { name: "Piles", slug: "piles", order: 9 }
      ]
    },
    {
      name: "Sports collectifs",
      slug: "sports-collectifs",
      description: "√âquipements pour tous les sports d'√©quipe",
      order: 4,
      subCategories: [
        { name: "Football", slug: "football", order: 1 },
        { name: "Basketball", slug: "basketball", order: 2 },
        { name: "Handball", slug: "handball", order: 3 },
        { name: "Volleyball", slug: "volleyball", order: 4 },
        { name: "Rugby", slug: "rugby", order: 5 },
        { name: "Baseball et Softball", slug: "baseball-softball", order: 6 },
        { name: "Sports de crosse", slug: "sports-crosse", order: 7 },
        { name: "Ultimate", slug: "ultimate", order: 8 },
        { name: "Autres Sports collectifs", slug: "autres-sports-collectifs", order: 9 },
        { name: "Mini buts", slug: "mini-buts", order: 10 }
      ]
    },
    {
      name: "Sports de raquettes",
      slug: "sports-raquettes",
      description: "√âquipements pour tous les sports de raquette",
      order: 5,
      subCategories: [
        { name: "Badminton", slug: "badminton", order: 1 },
        { name: "Tennis de table", slug: "tennis-table", order: 2 },
        { name: "Tennis", slug: "tennis", order: 3 },
        { name: "Padel", slug: "padel", order: 4 },
        { name: "Squash", slug: "squash", order: 5 },
        { name: "Speed-Badminton", slug: "speed-badminton", order: 6 },
        { name: "Pelote basque", slug: "pelote-basque", order: 7 },
        { name: "Peteca Indiaka", slug: "peteca-indiaka", order: 8 },
        { name: "Pickleball", slug: "pickleball", order: 9 }
      ]
    },
    {
      name: "Gymnastique",
      slug: "gymnastique",
      description: "√âquipements sp√©cialis√©s pour la gymnastique",
      order: 6,
      subCategories: [
        { name: "Agr√®s de Gymnastique", slug: "agres-gymnastique", order: 1 },
        { name: "Equipement Gymnastique indispensable", slug: "equipement-gymnastique-indispensable", order: 2 },
        { name: "Engins de GR - Gymnastique Rythmique", slug: "engins-gr-gymnastique-rythmique", order: 3 },
        { name: "Cirque et Jonglage", slug: "cirque-jonglage", order: 4 },
        { name: "Equipement salle de Danse", slug: "equipement-salle-danse", order: 5 },
        { name: "Gymnastique urbaine, parkour", slug: "gymnastique-urbaine-parkour", order: 6 }
      ]
    },
    {
      name: "Musculation et Fitness",
      slug: "musculation-fitness",
      description: "√âquipements pour la musculation et le fitness",
      order: 7,
      subCategories: [
        { name: "Equipement de musculation", slug: "equipement-musculation", order: 1 },
        { name: "Halt√®res, Barres, Disques, Poids", slug: "halteres-barres-disques-poids", order: 2 },
        { name: "Equipement de Fitness et Cross training", slug: "equipement-fitness-cross-training", order: 3 },
        { name: "Appareils Fitness et Cardio training", slug: "appareils-fitness-cardio-training", order: 4 },
        { name: "Pilate, Gym douce et Yoga", slug: "pilate-gym-douce-yoga", order: 5 },
        { name: "Am√©nagement salle de Musculation", slug: "amenagement-salle-musculation", order: 6 },
        { name: "Protections Musculation", slug: "protections-musculation", order: 7 }
      ]
    },
    {
      name: "√âveil, Jeux et Motricit√©",
      slug: "eveil-jeux-motricite",
      description: "√âquipements pour l'√©veil et le d√©veloppement moteur des enfants",
      order: 8,
      subCategories: [
        { name: "Jeux de soci√©t√©, Babyfoot", slug: "jeux-societe-babyfoot", order: 1 },
        { name: "Draisiennes, Tricycles, V√©los", slug: "draisiennes-tricycles-velos", order: 2 },
        { name: "Apprentissage scolaire de la S√©curit√© routi√®re", slug: "apprentissage-scolaire-securite-routiere", order: 3 },
        { name: "Activit√©s gymniques", slug: "activites-gymniques", order: 4 },
        { name: "Equilibre, Coordination", slug: "equilibre-coordination", order: 5 },
        { name: "Activit√©s collectives", slug: "activites-collectives", order: 6 },
        { name: "Jeux coop√©ratifs", slug: "jeux-cooperatifs", order: 7 },
        { name: "Activit√©s artistiques", slug: "activites-artistiques", order: 8 },
        { name: "Mobilier enfant collectivit√©s", slug: "mobilier-enfant-collectivites", order: 9 }
      ]
    },
    {
      name: "Sports outdoor",
      slug: "sports-outdoor",
      description: "√âquipements pour les sports de plein air",
      order: 9,
      subCategories: [
        { name: "Escalade", slug: "escalade", order: 1 },
        { name: "Mobilit√© Urbaine", slug: "mobilite-urbaine", order: 2 },
        { name: "Randonn√©e et Camping", slug: "randonnee-camping", order: 3 },
        { name: "Archerie et Tir", slug: "archerie-tir", order: 4 },
        { name: "Sports de Pr√©cision", slug: "sports-precision", order: 5 },
        { name: "Sports de Vent", slug: "sports-vent", order: 6 },
        { name: "Loisirs et Jeux", slug: "loisirs-jeux", order: 7 },
        { name: "Sports d'hiver", slug: "sports-hiver", order: 8 },
        { name: "Course d'orientation", slug: "course-orientation", order: 9 }
      ]
    },
    {
      name: "Sports de Combat",
      slug: "sports-combat",
      description: "√âquipements pour tous les sports de combat",
      order: 10,
      subCategories: [
        { name: "Am√©nagement Dojo, Salles de Boxe, Rings", slug: "amenagement-dojo-salles-boxe-rings", order: 1 },
        { name: "Arts Martiaux", slug: "arts-martiaux", order: 2 },
        { name: "Boxe, MMA", slug: "boxe-mma", order: 3 },
        { name: "Self d√©fense, Krav Maga", slug: "self-defense-krav-maga", order: 4 },
        { name: "Escrime", slug: "escrime", order: 5 },
        { name: "Protections Boxe et Arts Martiaux", slug: "protections-boxe-arts-martiaux", order: 6 }
      ]
    },
    {
      name: "Sports Aquatiques",
      slug: "sports-aquatiques",
      description: "√âquipements pour tous les sports nautiques",
      order: 11,
      subCategories: [
        { name: "Snorkeling", slug: "snorkeling", order: 1 },
        { name: "B√©b√©s Nageurs", slug: "bebes-nageurs", order: 2 },
        { name: "Natation", slug: "natation", order: 3 },
        { name: "Aquagym et Aquabike", slug: "aquagym-aquabike", order: 4 },
        { name: "Equipement piscine, jeux aquatiques", slug: "equipement-piscine-jeux-aquatiques", order: 5 },
        { name: "Water-polo", slug: "water-polo", order: 6 },
        { name: "Sports de Pagaies", slug: "sports-pagaies", order: 7 },
        { name: "Sports de Voile", slug: "sports-voile", order: 8 },
        { name: "Sports de Glisse", slug: "sports-glisse", order: 9 }
      ]
    },
    {
      name: "Athl√©tisme",
      slug: "athletisme",
      description: "√âquipements sp√©cialis√©s pour l'athl√©tisme",
      order: 12,
      subCategories: [
        { name: "Marche Nordique", slug: "marche-nordique", order: 1 },
        { name: "Mat√©riel de Course √† pied", slug: "materiel-course-pied", order: 2 },
        { name: "Lancer Athl√©tisme", slug: "lancer-athletisme", order: 3 },
        { name: "Saut Athl√©tisme", slug: "saut-athletisme", order: 4 },
        { name: "Instruments de mesure Athl√©tisme", slug: "instruments-mesure-athletisme", order: 5 },
        { name: "Kits initiation Athl√©tisme", slug: "kits-initiation-athletisme", order: 6 }
      ]
    },
    {
      name: "Textile et bagagerie",
      slug: "textile-bagagerie",
      description: "V√™tements sportifs et accessoires de bagagerie",
      order: 13,
      subCategories: [
        { name: "V√™tements, tenues Gardien multisports", slug: "vetements-tenues-gardien-multisports", order: 1 },
        { name: "Tenue Arbitre", slug: "tenue-arbitre", order: 2 },
        { name: "Tee-shirts personnalisables", slug: "tee-shirts-personnalisables", order: 3 },
        { name: "Bagagerie", slug: "bagagerie", order: 4 },
        { name: "Accessoires textile", slug: "accessoires-textile", order: 5 },
        { name: "Textile Multisport", slug: "textile-multisport", order: 6 }
      ]
    }
  ];

  // Cr√©ation des cat√©gories et sous-cat√©gories
  for (const categoryData of categories) {
    const { subCategories, ...categoryFields } = categoryData;
    
    const category = await prisma.category.create({
      data: categoryFields
    });

    console.log(`‚úÖ Cat√©gorie cr√©√©e: ${category.name}`);

    // Cr√©ation des sous-cat√©gories pour cette cat√©gorie
    for (const subCategoryData of subCategories) {
      await prisma.subCategory.create({
        data: {
          ...subCategoryData,
          categoryId: category.id
        }
      });
    }

    console.log(`‚úÖ ${subCategories.length} sous-cat√©gories cr√©√©es pour ${category.name}`);
  }

  console.log('üéâ Seeding termin√© avec succ√®s !');
}

main()
  .catch((e) => {
    console.error('‚ùå Erreur lors du seeding:', e);
    process.exit(1);
  })
  .finally(async () => {
    await prisma.$disconnect();
  }); 